<ion-header>
  <ion-navbar color="primary">
    <ion-title>
      K.Q. Norton Dart Bank Interest Calculation Bank System - Create A New Savings Account
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-card>
    <ion-card-header>
      Create A New Savings Account
    </ion-card-header>
    <ion-card-content #createAccountCard>
      <p *ngIf="submitAttempt">Please fill out all details accurately</p>
      <form [formGroup]="savingsAccountForm">
      <ion-grid>
        <ion-row>
          <ion-col width-50>
            <ion-item>
              <ion-label floating>First Name</ion-label>
              <ion-input formControlName="firstName" type="text" [class.invalid]="!savingsAccountForm.controls.firstName.valid && (savingsAccountForm.controls.firstName.dirty || submitAttempt)"></ion-input>
            </ion-item>
            <ion-item *ngIf="!savingsAccountForm.controls.firstName.valid && (savingsAccountForm.controls.dirty || submitAttempt)">
              <p>Please enter a valid first name</p>
            </ion-item>
          </ion-col>
          <ion-col width-50>
            <ion-item>
              <ion-label floating>Last Name</ion-label>
              <ion-input formControlName="lastName" type="text" [class.invalid]="!savingsAccountForm.controls.lastName.valid && (savingsAccountForm.controls.lastName.dirty || submitAttempt)"></ion-input>
            </ion-item>
            <ion-item *ngIf="!savingsAccountForm.controls.lastName.valid && (savingsAccountForm.controls.dirty || submitAttempt)">
              <p>Please enter a valid last name</p>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col width-33>
            <ion-item>
              <ion-label floating>Account Type</ion-label>
              <ion-input readonly="true" disabled="true" type="text"></ion-input>
            </ion-item>
          </ion-col>
          <ion-col width-33>
            <ion-item>
              <ion-label floating>Starting Balance</ion-label>
              <ion-input formControlName="startingBalance" type="number" [class.invalid]="!savingsAccountForm.controls.startingBalance.valid && (savingsAccountForm.controls.startingBalance.dirty || submitAttempt)"></ion-input>
            </ion-item>
            <ion-item *ngIf="!savingsAccountForm.controls.startingBalance.valid && (savingsAccountForm.controls.dirty || submitAttempt)">
              <p>Please enter a valid starting balance</p>
            </ion-item>
          </ion-col>
          <ion-col width-33>
            <ion-item>
              <ion-label floating>Interest Rate</ion-label>
              <ion-input type="number" formControlName="interestRate" [class.invalid]="!savingsAccountForm.controls.interestRate.valid && (savingsAccountForm.controls.interestRate.dirty || submitAttempt)"></ion-input>
            </ion-item>
            <ion-item *ngIf="!savingsAccountForm.controls.interestRate.valid && (savingsAccountForm.controls.dirty || submitAttempt)">
              <p>Please enter a valid interest rate</p>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col width-50>
            <ion-item>
              <ion-label floating>Overdraft Penalty</ion-label>
              <ion-input readonly="true" disabled="true" value="30"></ion-input>
            </ion-item>
          </ion-col>
          <ion-col width-50>
            <ion-item>
              <ion-label floating>Required Minimum Balance</ion-label>
              <ion-input type="number" disabled="true" value="100"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
      </form>
      <button ion-button icon-right (click)="addTransaction()">
        Adding Recuring Transaction
        <ion-icon name="add-circle"></ion-icon>
      </button>
      <ion-list>
        <ion-list-header>
          Recurring Transactions
        </ion-list-header>
        <ion-grid>
          <ion-row>
            <ion-col width-25>
              Amount
            </ion-col>
            <ion-col wdith-25>
              Date
            </ion-col>
            <ion-col witth-50>
              Description
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col width-25>
              <ion-item *ngFor="let transaction of recurringTransactions">
                {{transaction.Amount}}
              </ion-item>
            </ion-col>
            <ion-col width-25>    
              <ion-item *ngFor="let transaction of recurringTransactions">
                {{transaction.Date}} 
              </ion-item>
            </ion-col>
            <ion-col width-50>
            <ion-item *ngFor="let transaction of recurringTransactions">
              {{transaction.Description}}
            </ion-item>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-list>
      <button ion-button (click)="submitClicked()">Submit</button>      
    </ion-card-content>
  </ion-card>  
</ion-content>