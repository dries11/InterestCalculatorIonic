<ion-header>
  <ion-navbar color="primary">
    <ion-title>
      K.Q. Norton Dart Bank Interest Calculation Bank System - Create A New Checking Account
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-card>
    <ion-card-header>
      Create A New Checking Account
    </ion-card-header>
    <ion-card-content #createAccountCard>
      <p *ngIf="submitAttempt">Please fill out all details accurately</p>
      <form [formGroup]="checkingAccountForm">
      <ion-grid>
        <ion-row>
          <ion-col width-50>
            <ion-item>
              <ion-label floating>First Name</ion-label>
              <ion-input formControlName="firstName" type="text" [class.invalid]="!checkingAccountForm.controls.firstName.valid && (checkingAccountForm.controls.firstName.dirty || submitAttempt)"></ion-input>
            </ion-item>
            <ion-item *ngIf="!checkingAccountForm.controls.firstName.valid && (checkingAccountForm.controls.dirty || submitAttempt)">
              <p>Please enter a valid first name</p>
            </ion-item>
          </ion-col>
          <ion-col width-50>
            <ion-item>
              <ion-label floating>Last Name</ion-label>
              <ion-input formControlName="lastName" type="text" [class.invalid]="!checkingAccountForm.controls.lastName.valid && (checkingAccountForm.controls.lastName.dirty || submitAttempt)"></ion-input>
            </ion-item>
            <ion-item *ngIf="!checkingAccountForm.controls.lastName.valid && (checkingAccountForm.controls.dirty || submitAttempt)">
              <p>Please enter a valid last name</p>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col width-33>
            <ion-item>
              <ion-label floating>Account Type</ion-label>
              <ion-input formControlName="accountType" type="text" disabled="true"></ion-input>
            </ion-item>
          </ion-col>
          <ion-col width-33>
            <ion-item>
              <ion-label floating>Starting Balance</ion-label>
              <ion-input formControlName="startingBalance" type="number" [class.invalid]="!checkingAccountForm.controls.startingBalance.valid && (checkingAccountForm.controls.startingBalance.dirty || submitAttempt)"></ion-input>
            </ion-item>
            <ion-item *ngIf="!checkingAccountForm.controls.startingBalance.valid && (checkingAccountForm.controls.dirty || submitAttempt)">
              <p>Please enter a valid starting balance</p>
            </ion-item>
          </ion-col>
          <ion-col width-33>
            <ion-item>
              <ion-label floating>Interest Rate</ion-label>
              <ion-input formControlName="interestRate" type="number" disabled="true"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col width-50>
            <ion-item>
              <ion-label floating>Overdraft Penalty</ion-label>
              <ion-input formControlName="overdraftPenalty" type="number" disabled="true"></ion-input>
            </ion-item>
          </ion-col>
          <ion-col width-50>
            <ion-item>
              <ion-label floating>Required Minimum Balance</ion-label>
              <ion-input formControlName="requiredMinimumBalance" type="number" disabled="true"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
      </form>
      <button ion-button icon-right (click)="showPrompt()">
        Add Recuring Transaction
        <ion-icon name="add-circle"></ion-icon>
      </button>
      <ion-list>
        <ion-list-header>
          Recurring Transactions
        </ion-list-header>
        <ion-grid>
          <ion-row>
            <ion-col width-25>
              Amount
            </ion-col>
            <ion-col width-25>
              Date
            </ion-col>
            <ion-col width-50>
              Description
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col width-25>
              <ion-item *ngFor="let transaction of recurringTransactions">
              {{transaction.Amount}}
              </ion-item>
            </ion-col>
            <ion-col width-25>
              <ion-item *ngFor="let transaction of recurringTransactions">
                {{transaction.Date}}
              </ion-item>
            </ion-col>
            <ion-col width-50>
            <ion-item *ngFor="let transaction of recurringTransactions">
              {{transaction.Description}}
            </ion-item>
          </ion-col>
          </ion-row>
        </ion-grid>
      </ion-list>    
      <button ion-button (click)="submitClicked()">Submit</button>
    </ion-card-content>
  </ion-card>   
</ion-content>